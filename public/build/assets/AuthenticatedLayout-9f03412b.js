import{h as L,J as V,o as v,c as m,d as n,b as d,w as h,e as p,u as l,l as _,n as C,F as R,p as X,a as q,t as z,g as H,m as x,D as G,E as J,s as $,i as K,r as U,G as Q}from"./app-c85f3cc2.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const ee={class:"w-64 py-6 pl-6 bg-black"},te={class:"grid text-sm"},oe={class:"mt-6 font-bold"},se=n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-7 w-7"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})],-1),re=n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-7 w-7"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),ne=n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-7 w-7"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1),le={class:"mt-6 font-bold"},ie=n("div",{class:"grid w-6 h-6 bg-white rounded-sm place-items-center"},[n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#000",class:"w-4 h-4"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),ae=n("svg",{viewBox:"0 0 24 24",fill:"currentColor",class:"h-7 w-7"},[n("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})],-1),ce={key:0,class:"mt-2 border-t border-t-[#282828] pt-2"},ue={__name:"Sidebar",setup(e){const o=L(()=>V().props.auth.user);return(t,s)=>{var c,f;return v(),m("aside",ee,[n("nav",te,[d(l(_),{href:"/",class:"text-2xl font-bold"},{default:h(()=>[p("Spookify")]),_:1}),n("div",oe,[d(l(_),{href:"/",class:C([t.route().current("home")?"opacity-100":"opacity-70","flex items-center h-10 gap-4 transition-opacity duration-300 hover:opacity-100"])},{default:h(()=>[se,p(" Home ")]),_:1},8,["class"]),d(l(_),{href:"/search",class:"flex items-center h-10 gap-4 transition-opacity duration-300 opacity-70 hover:opacity-100"},{default:h(()=>[re,p(" Search ")]),_:1}),d(l(_),{href:"/playlists",class:"flex items-center h-10 gap-4 transition-opacity duration-300 opacity-70 hover:opacity-100"},{default:h(()=>[ne,p(" Your Library ")]),_:1})]),n("div",le,[d(l(_),{href:"/playlists",method:"post",as:"button",class:"flex items-center w-full h-10 gap-4 transition-opacity duration-300 opacity-70 hover:opacity-100"},{default:h(()=>[ie,p(" Create Playlist ")]),_:1}),d(l(_),{href:"/songs",class:C([t.route().current("songs")?"opacity-100":"opacity-70","flex items-center h-10 gap-4 transition-opacity duration-300 hover:opacity-100"])},{default:h(()=>[ae,p(" Liked Songs ")]),_:1},8,["class"])]),((f=(c=l(o))==null?void 0:c.playlists)==null?void 0:f.length)>0?(v(),m("div",ce,[(v(!0),m(R,null,X(l(o).playlists,u=>(v(),q(l(_),{key:u.id,href:t.route("playlists.show",u),class:C([t.route().current("playlists.show",u)?"opacity-100":"opacity-70","flex items-center w-full h-8 transition-opacity duration-300 hover:opacity-100"])},{default:h(()=>[p(z(u.name),1)]),_:2},1032,["href","class"]))),128))])):H("",!0)])])}}},de={},fe={class:"fixed bottom-0 left-0 right-0 h-24 border-t border-t-[#282828] bg-[#181818]"};function he(e,o){return v(),m("footer",fe)}const pe=Z(de,[["render",he]]);var E;const W=typeof window<"u",_e=e=>typeof e=="string",I=()=>{},M=W&&((E=window==null?void 0:window.navigator)==null?void 0:E.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function S(e){return typeof e=="function"?e():l(e)}const O={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function T(e){return G()?(J(e),!0):!1}function ve(e){return typeof e=="function"?L(e):x(e)}function b(e){var o;const t=S(e);return(o=t==null?void 0:t.$el)!=null?o:t}const Y=W?window:void 0;function A(...e){let o,t,s,c;if(_e(e[0])||Array.isArray(e[0])?([t,s,c]=e,o=Y):[o,t,s,c]=e,!o)return I;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const f=[],u=()=>{f.forEach(w=>w()),f.length=0},i=(w,k,r,a)=>(w.addEventListener(k,r,a),()=>w.removeEventListener(k,r,a)),g=$(()=>[b(o),S(c)],([w,k])=>{u(),w&&f.push(...t.flatMap(r=>s.map(a=>i(w,r,a,k))))},{immediate:!0,flush:"post"}),B=()=>{g(),u()};return T(B),B}let j=!1;function D(e,o,t={}){const{window:s=Y,ignore:c=[],capture:f=!0,detectIframe:u=!1}=t;if(!s)return;M&&!j&&(j=!0,Array.from(s.document.body.children).forEach(r=>r.addEventListener("click",I)));let i=!0;const g=r=>c.some(a=>{if(typeof a=="string")return Array.from(s.document.querySelectorAll(a)).some(y=>y===r.target||r.composedPath().includes(y));{const y=b(a);return y&&(r.target===y||r.composedPath().includes(y))}}),w=[A(s,"click",r=>{const a=b(e);if(!(!a||a===r.target||r.composedPath().includes(a))){if(r.detail===0&&(i=!g(r)),!i){i=!0;return}o(r)}},{passive:!0,capture:f}),A(s,"pointerdown",r=>{const a=b(e);a&&(i=!r.composedPath().includes(a)&&!g(r))},{passive:!0}),u&&A(s,"blur",r=>{var a;const y=b(e);((a=s.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(y!=null&&y.contains(s.document.activeElement))&&o(r)})].filter(Boolean);return()=>w.forEach(r=>r())}const me={[O.mounted](e,o){const t=!o.modifiers.bubble;if(typeof o.value=="function")e.__onClickOutside_stop=D(e,o.value,{capture:t});else{const[s,c]=o.value;e.__onClickOutside_stop=D(e,s,Object.assign({capture:t},c))}},[O.unmounted](e){e.__onClickOutside_stop()}},N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P="__vueuse_ssr_handlers__";N[P]=N[P]||{};function F(e){const o=window.getComputedStyle(e);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&e.clientHeight<e.scrollHeight||o.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const t=e.parentNode;return!t||t.tagName==="BODY"?!1:F(t)}}function ge(e){const o=e||window.event,t=o.target;return F(t)?!1:o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)}function we(e,o=!1){const t=x(o);let s=null,c;$(ve(e),i=>{if(i){const g=i;c=g.style.overflow,t.value&&(g.style.overflow="hidden")}},{immediate:!0});const f=()=>{const i=S(e);!i||t.value||(M&&(s=A(i,"touchmove",g=>{ge(g)},{passive:!1})),i.style.overflow="hidden",t.value=!0)},u=()=>{const i=S(e);!i||!t.value||(M&&(s==null||s()),i.style.overflow=c,t.value=!1)};return T(u),L({get(){return t.value},set(i){i?f():u()}})}const ye=()=>{let e=!1;const o=x(!1);return(t,s)=>{if(o.value=s.value,e)return;e=!0;const c=we(t,s.value);$(o,f=>c.value=f)}};ye();const ke={class:"grid min-h-screen grid-cols-[auto,1fr] pb-24"},be={class:"bg-gradient-to-b from-[#222] to-[#121212] px-8 py-4"},xe={class:"grid grid-cols-[max-content,max-content,1fr,max-content] items-center gap-4"},Ce=Q('<button class="grid h-8 w-8 place-items-center rounded-full bg-black" type="button"><svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg></button><button class="grid h-8 w-8 place-items-center rounded-full bg-black" type="button"><svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg></button>',2),Ae=["src","alt"],Se={key:1,class:"rounded-full border-2 border-black bg-[#535353] p-[2px]"},Le=n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),Be=[Le],Me={class:"font-bold"},$e=n("path",{d:"m14 6-6 6-6-6h12z",fill:"white"},null,-1),Ee=[$e],Oe={key:2,class:"absolute right-0 top-full mt-2 grid justify-start rounded-md bg-gray-500 p-1 text-left text-sm shadow-md"},je={key:1,class:"col-start-4 flex gap-8"},Pe={__name:"AuthenticatedLayout",setup(e){const o=L(()=>V().props.auth.user),t=x(!1),s=x(null),c=[()=>t.value=!1,{ignore:[s]}];return(f,u)=>(v(),m("div",ke,[d(ue),n("main",be,[n("div",xe,[Ce,l(o)?(v(),m("button",{key:0,onClick:u[0]||(u[0]=i=>t.value=!t.value),ref_key:"ignoreButton",ref:s,type:"button",class:"relative col-start-4 flex h-8 items-center gap-2 rounded-full bg-black pr-2 leading-none"},[l(o).profile_picture?(v(),m("img",{key:0,src:l(o).profile_picture,alt:l(o).name,class:"rounded-full border-2 border-black",width:"28",height:"28"},null,8,Ae)):(v(),m("div",Se,Be)),n("p",Me,z(l(o).name),1),(v(),m("svg",{class:C(["h-4 w-4 transform",{"rotate-180":t.value}]),viewBox:"0 0 16 16"},Ee,2)),t.value?K((v(),m("ul",Oe,[n("li",null,[d(l(_),{href:"/account",class:"flex h-10 w-48 items-center justify-between px-3 hover:bg-gray-400"},{default:h(()=>[p("Account")]),_:1})]),n("li",null,[d(l(_),{href:"/profile",class:"flex h-10 w-48 items-center px-3 hover:bg-gray-400"},{default:h(()=>[p("Profile")]),_:1})]),n("li",null,[d(l(_),{href:"/settings",class:"flex h-10 w-48 items-center border-b border-b-white border-opacity-10 px-3 hover:bg-gray-400"},{default:h(()=>[p("Settings")]),_:1})]),n("li",null,[d(l(_),{href:"/logout",method:"post",as:"button",class:"flex h-10 w-48 items-center px-3 hover:bg-gray-400"},{default:h(()=>[p("Log out")]),_:1})])])),[[l(me),c]]):H("",!0)],512)):(v(),m("div",je,[d(l(_),{href:"/auth/redirect"},{default:h(()=>[p("Discord")]),_:1}),d(l(_),{href:"/register"},{default:h(()=>[p("Sign up")]),_:1}),d(l(_),{href:"/login"},{default:h(()=>[p("Log in")]),_:1})]))]),U(f.$slots,"default")]),d(pe)]))}};export{Pe as _};
